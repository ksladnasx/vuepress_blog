import{_ as n,c as a,a as e,o as l}from"./app-UmXydJji.js";const i={};function p(c,s){return l(),a("div",null,[...s[0]||(s[0]=[e(`<h1 id="docker部署流程" tabindex="-1"><a class="header-anchor" href="#docker部署流程"><span>docker部署流程</span></a></h1><p>国内访问很麻烦，有一些国内直达的地址（可以直接pull），收录在：<a href="https://docker.aityp.com/" target="_blank" rel="noopener noreferrer">docker镜像站</a></p><p>将 React 项目打包成 Docker 镜像需要结合<strong>React 的构建流程</strong>和<strong>Docker 的镜像构建规范</strong>，通常分为<strong>开发环境</strong>和<strong>生产环境</strong>两种构建方式。生产环境会采用<strong>多阶段构建</strong>来减小镜像体积，以下是详细步骤：</p><h3 id="一、准备工作" tabindex="-1"><a class="header-anchor" href="#一、准备工作"><span>一、准备工作</span></a></h3><ol><li><p>确保本地已安装：</p><ul><li><a href="https://nodejs.org/" target="_blank" rel="noopener noreferrer">Node.js</a>（用于本地开发和构建 React 项目）</li><li><a href="https://www.docker.com/" target="_blank" rel="noopener noreferrer">Docker</a>（用于构建和运行镜像）</li></ul></li><li><p>已有一个 React 项目（可通过create-react-app快速创建）：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line">npx create-react-app my-react-app</span>
<span class="line"><span class="token builtin class-name">cd</span> my-react-app</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><h3 id="二、生产环境-docker-构建-推荐多阶段构建" tabindex="-1"><a class="header-anchor" href="#二、生产环境-docker-构建-推荐多阶段构建"><span>二、生产环境 Docker 构建（推荐多阶段构建）</span></a></h3><p>生产环境需要先构建 React 项目的静态文件，再用轻量级的 Web 服务器（如 Nginx）托管这些文件，<strong>多阶段构建</strong>可以避免将构建依赖带入最终镜像，大幅减小体积。 同时在构建镜像的时候指定</p><h4 id="步骤-1-编写dockerfile" tabindex="-1"><a class="header-anchor" href="#步骤-1-编写dockerfile"><span>步骤 1：编写<code>Dockerfile</code></span></a></h4><p>在 React 项目根目录创建<code>Dockerfile</code>，注意此处的node源和nginx源都替换为了公司私有的有源，用于解决网络问题。当然这里的pnpm 直接指定外部链接下载就行，这个的源没有墙的限制。同时注意此处的VITE_API_BASE_URL定义，这在构建镜像的时候需要指明内容，具体内容如下：</p><div class="language-docker line-numbers-mode" data-highlighter="prismjs" data-ext="docker"><pre><code><span class="line"><span class="token comment"># 构建 React 项目</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">FROM</span> reg.un-net.com/node/node:20-alpine <span class="token keyword">AS</span> build-stage</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 1. 定义构建参数（接收后端地址，默认值可选）</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">ARG</span> VITE_API_BASE_URL  # 用于后端接口地址定义</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 2. 将构建参数设置为容器内的环境变量</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">ENV</span> VITE_API_BASE_URL=<span class="token variable">$VITE_API_BASE_URL</span> </span></span>
<span class="line"></span>
<span class="line"><span class="token instruction"><span class="token keyword">RUN</span> npm config set registry https://registry.npmmirror.com</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 安装 pnpm</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">RUN</span> npm install -g pnpm</span></span>
<span class="line"></span>
<span class="line"><span class="token instruction"><span class="token keyword">RUN</span> pnpm config set registry https://registry.npmmirror.com</span></span>
<span class="line"></span>
<span class="line"><span class="token instruction"><span class="token keyword">WORKDIR</span> /app</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 复制依赖文件</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">COPY</span> package.json pnpm-lock.yaml ./</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 安装依赖（使用 pnpm）</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">RUN</span> pnpm install --frozen-lockfile</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 复制源代码</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">COPY</span> . .</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 构建项目（Vite 默认输出到 dist 目录）</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">RUN</span> pnpm run build</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 替换为企业私有Nginx镜像</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">FROM</span> reg.un-net.com/nginx/nginx:latest <span class="token keyword">AS</span> production-stage</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 复制第一阶段构建的静态文件到 Nginx 的默认静态文件目录</span></span>
<span class="line"><span class="token comment"># Vite 构建输出在 dist 目录</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">COPY</span> <span class="token options"><span class="token property">--from</span><span class="token punctuation">=</span><span class="token string">build-stage</span></span> /app/dist /usr/share/nginx/html</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 复制 Nginx 配置文件（解决 React 路由刷新 404 问题）</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">COPY</span> nginx.conf /etc/nginx/conf.d/default.conf</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 暴露端口</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">EXPOSE</span> 10801</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 启动 Nginx</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">CMD</span> [<span class="token string">&quot;nginx&quot;</span>, <span class="token string">&quot;-g&quot;</span>, <span class="token string">&quot;daemon off;&quot;</span>]       </span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="步骤-2-配置-nginx-解决-react-路由问题" tabindex="-1"><a class="header-anchor" href="#步骤-2-配置-nginx-解决-react-路由问题"><span>步骤 2：配置 Nginx 解决 React 路由问题</span></a></h4><p>React 的前端路由（如<code>react-router-dom</code>）在刷新页面时会出现 404，需要修改 原本的Nginx 配置将所有请求转发到<code>index.html</code>。</p><p>在项目根目录创建<code>nginx.conf</code>文件，内容如下：</p><div class="language-nginx line-numbers-mode" data-highlighter="prismjs" data-ext="nginx"><pre><code><span class="line"><span class="token directive"><span class="token keyword">server</span></span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token directive"><span class="token keyword">listen</span> <span class="token number">80</span></span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token directive"><span class="token keyword">server_name</span> localhost</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment"># 根目录指向Nginx托管的静态文件</span></span>
<span class="line">    <span class="token directive"><span class="token keyword">root</span> /usr/share/nginx/html</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token directive"><span class="token keyword">index</span> index.html index.htm</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment"># 解决React路由刷新404问题</span></span>
<span class="line">    <span class="token directive"><span class="token keyword">location</span> /</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token directive"><span class="token keyword">try_files</span> <span class="token variable">$uri</span> <span class="token variable">$uri</span>/ /index.html</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment"># 静态资源缓存（可选）</span></span>
<span class="line">    <span class="token directive"><span class="token keyword">location</span> ~* \\.(js|css|png|jpg|jpeg|gif|ico|svg)$</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token directive"><span class="token keyword">expires</span> <span class="token number">30d</span></span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token directive"><span class="token keyword">add_header</span> Cache-Control <span class="token string">&quot;public, max-age=2592000&quot;</span></span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="步骤-3-编写-dockerignore文件" tabindex="-1"><a class="header-anchor" href="#步骤-3-编写-dockerignore文件"><span>步骤 3：编写<code>.dockerignore</code>文件</span></a></h4><p>排除不需要加入镜像的文件，减少构建上下文体积，在项目根目录创建<code>.dockerignore</code>：</p><div class="language-plaintext line-numbers-mode" data-highlighter="prismjs" data-ext="plaintext"><pre><code><span class="line">node_modules</span>
<span class="line">npm-debug.log</span>
<span class="line">build</span>
<span class="line">.git</span>
<span class="line">.gitignore</span>
<span class="line">.env</span>
<span class="line">.env.local</span>
<span class="line">.env.development.local</span>
<span class="line">.env.test.local</span>
<span class="line">.env.production.local</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="三、构建并运行-docker-镜像" tabindex="-1"><a class="header-anchor" href="#三、构建并运行-docker-镜像"><span>三、构建并运行 Docker 镜像</span></a></h3><h4 id="_1-构建-docker-镜像" tabindex="-1"><a class="header-anchor" href="#_1-构建-docker-镜像"><span>1. 构建 Docker 镜像</span></a></h4><p>在本地能成功docker build后，将<strong>全部代码</strong>推到git云端，然后远程连接服务器，<code>git pull</code>拉取最新代码然后再进行部署，注意此处部署要指明dockerfile中声明的全局变量（这本来是在.env文件的，但是<code>dockerignore</code>掉了），用于前端后续的请求使用。注意此处镜像的命名要带上版本号，用于后期管理：</p><p>注意你是在你拉取到的代码的文件夹内运行的，因此结尾是一个点，否则会出现Dockerfile not found 的情况。</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token function">docker</span> build <span class="token parameter variable">-t</span> slow-sql-web:1.0.1 --build-arg <span class="token assign-left variable">VITE_API_BASE_URL</span><span class="token operator">=</span>http://172.20.20.128:10800 <span class="token builtin class-name">.</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="_2-运行-docker-容器" tabindex="-1"><a class="header-anchor" href="#_2-运行-docker-容器"><span>2. 运行 Docker 容器</span></a></h4><p>这样我就打好了一个请求地址为http://172.20.20.128:10800镜像，当然只用于本地测试。然后就可以创建容器运行并映射端口了（将容器暴露的10801端口映射到10801外部网络的端口）：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">-p</span> <span class="token number">10801</span>:10801 <span class="token parameter variable">--name</span> slow-sql-web-container6 slow-sql-web:1.0.1</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="_3-访问项目" tabindex="-1"><a class="header-anchor" href="#_3-访问项目"><span>3. 访问项目</span></a></h4><p>打开浏览器访问 <code>http://172.20.20.128:10801</code>，即可看到 React 项目。</p><h3 id="四、开发环境-docker-构建-可选" tabindex="-1"><a class="header-anchor" href="#四、开发环境-docker-构建-可选"><span>四、开发环境 Docker 构建（可选）</span></a></h3><p>开发环境需要支持<strong>热更新</strong>，可直接运行<code>npm start</code>，无需构建静态文件，<code>Dockerfile</code>如下：</p><div class="language-docker line-numbers-mode" data-highlighter="prismjs" data-ext="docker"><pre><code><span class="line"><span class="token instruction"><span class="token keyword">FROM</span> node:20-alpine</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">WORKDIR</span> /app</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">COPY</span> package*.json ./</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">RUN</span> npm install</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">COPY</span> . .</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">EXPOSE</span> 3000</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">CMD</span> [<span class="token string">&quot;npm&quot;</span>, <span class="token string">&quot;start&quot;</span>]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>运行命令（注意开发环境需要挂载本地目录实现热更新）：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token function">docker</span> build <span class="token parameter variable">-t</span> my-react-app:dev <span class="token parameter variable">-f</span> Dockerfile.dev <span class="token builtin class-name">.</span></span>
<span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">-p</span> <span class="token number">3000</span>:3000 <span class="token parameter variable">-v</span> <span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">pwd</span><span class="token variable">)</span></span>:/app <span class="token parameter variable">-v</span> /app/node_modules <span class="token parameter variable">--name</span> react-dev-container my-react-app:dev</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>-v $(pwd):/app</code>：将本地项目目录挂载到容器，实现代码修改后热更新。</li><li><code>-v /app/node_modules</code>：避免本地<code>node_modules</code>覆盖容器内的依赖（容器内的<code>node_modules</code>基于 Linux 系统，本地可能是 Windows/macOS）。</li></ul><h3 id="五、常见问题解决" tabindex="-1"><a class="header-anchor" href="#五、常见问题解决"><span>五、常见问题解决</span></a></h3><ol><li><p>出现容器运行成功，且有容器id产生的情况，但是还是没法访问，那查看容器日志：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token function">docker</span> log <span class="token operator">&lt;</span>容器id或者容器名称<span class="token operator">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>然后复制log问ai什么情况，具体情况具体解决。</p><p>但是一般都要删除错误的镜像和容器：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token comment"># 先获取镜像ID</span></span>
<span class="line"><span class="token function">docker</span> images</span>
<span class="line"><span class="token comment"># 查找使用该镜像的容器</span></span>
<span class="line"><span class="token function">docker</span> <span class="token function">ps</span> <span class="token parameter variable">-a</span> <span class="token parameter variable">--filter</span> <span class="token string">&quot;ancestor=&lt;镜像ID或名称&gt;&quot;</span></span>
<span class="line"><span class="token comment"># 停用并镜像下容器</span></span>
<span class="line"><span class="token function">docker</span> stop <span class="token operator">&lt;</span>容器id或者容器名称<span class="token operator">&gt;</span></span>
<span class="line"><span class="token function">docker</span> <span class="token function">rm</span> <span class="token operator">&lt;</span>容器id或者容器名称<span class="token operator">&gt;</span></span>
<span class="line"><span class="token comment"># 镜像下容器都被删除后可进行镜像删除</span></span>
<span class="line"><span class="token function">docker</span> rmi <span class="token operator">&lt;</span>镜像id或者镜像名称<span class="token operator">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>偶尔会出现端口被占用的情况，一般是之前的容器没停，需要先查看什么容器占用了这个端口：</p><div class="language-cmd line-numbers-mode" data-highlighter="prismjs" data-ext="cmd"><pre><code><span class="line">docker ps -a | grep 10801</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>然后复制显示的容器的id，对容器进行一个停止，停止后也可以通过rm将没用的容器删除：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token function">docker</span> stop <span class="token operator">&lt;</span>容器id<span class="token operator">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>对于Vue的项目，有时候需要灵活进行配置</p></li><li><p>有时候在远程的连接的服务器上不小心修改了某些文件的源码，合并的时候会出现冲突，要合并冲突很麻烦，因此要一个个先放弃你刚刚不小心修改的文件回到原始状态，然后再git pull 拉取最新代码。：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token function">git</span> checkout -- <span class="token operator">&lt;</span>文件名<span class="token operator">&gt;</span></span>
<span class="line"><span class="token function">git</span> pull</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>React 路由刷新 404</strong>：确保 Nginx 配置中添加了<code>try_files $uri $uri/ /index.html;</code>。</p></li><li><p>构建镜像时依赖安装缓慢：可在Dockerfile中添加 npm 镜像源或者修改为内网的仓库地址：</p><div class="language-docker line-numbers-mode" data-highlighter="prismjs" data-ext="docker"><pre><code><span class="line"><span class="token instruction"><span class="token keyword">RUN</span> npm config set registry https://registry.npmmirror.com</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>国内访问很麻烦，有一些国内直达的地址（可以直接pull），收录在：<a href="https://docker.aityp.com/" target="_blank" rel="noopener noreferrer">docker镜像站</a></p></li><li><p><strong>开发环境热更新不生效</strong>：检查容器挂载目录是否正确，确保本地代码修改后同步到容器。</p></li><li><p><strong>镜像体积过大</strong>：生产环境务必使用<strong>多阶段构建</strong>，仅保留 Nginx 和静态文件，避免携带 Node 依赖。</p></li></ol>`,35)])])}const r=n(i,[["render",p]]),o=JSON.parse('{"path":"/posts/experiences/docker%E9%83%A8%E7%BD%B2%E6%B5%81%E7%A8%8B.html","title":"docker部署流程","lang":"zh-CN","frontmatter":{"date":"2025-12-25T00:00:00.000Z","category":["项目笔记"],"tag":["React","docker","nginx"]},"headers":[{"level":3,"title":"一、准备工作","slug":"一、准备工作","link":"#一、准备工作","children":[]},{"level":3,"title":"二、生产环境 Docker 构建（推荐多阶段构建）","slug":"二、生产环境-docker-构建-推荐多阶段构建","link":"#二、生产环境-docker-构建-推荐多阶段构建","children":[]},{"level":3,"title":"三、构建并运行 Docker 镜像","slug":"三、构建并运行-docker-镜像","link":"#三、构建并运行-docker-镜像","children":[]},{"level":3,"title":"四、开发环境 Docker 构建（可选）","slug":"四、开发环境-docker-构建-可选","link":"#四、开发环境-docker-构建-可选","children":[]},{"level":3,"title":"五、常见问题解决","slug":"五、常见问题解决","link":"#五、常见问题解决","children":[]}],"git":{"updatedTime":1769681316000,"contributors":[{"name":"ksldnasx","username":"ksldnasx","email":"wh8261408@126.com","commits":4,"url":"https://github.com/ksldnasx"}],"changelog":[{"hash":"c6f60569aa0e0cf21fdc40b8de59b21dae9fdf90","time":1769681316000,"email":"wh8261408@126.com","author":"ksldnasx","message":"style:样式大修改，体验优化"},{"hash":"c5fd1778fcc4e0bc3a6b966a93ef4f2ffd9ac13a","time":1767457984000,"email":"wh8261408@126.com","author":"ksldnasx","message":"feat：操作系统"},{"hash":"3eadc3f58422259bd0fce3b81f9dd83d0f40d890","time":1767280409000,"email":"wh8261408@126.com","author":"ksldnasx","message":"fix:docker镜像源网站"},{"hash":"21e3c0191c46630464823db093e4956ad580a631","time":1766657970000,"email":"wh8261408@126.com","author":"ksldnasx","message":"feat:docker"}]},"filePathRelative":"posts/experiences/docker部署流程.md","excerpt":"\\n<p>国内访问很麻烦，有一些国内直达的地址（可以直接pull），收录在：<a href=\\"https://docker.aityp.com/\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">docker镜像站</a></p>\\n<p>将 React 项目打包成 Docker 镜像需要结合<strong>React 的构建流程</strong>和<strong>Docker 的镜像构建规范</strong>，通常分为<strong>开发环境</strong>和<strong>生产环境</strong>两种构建方式。生产环境会采用<strong>多阶段构建</strong>来减小镜像体积，以下是详细步骤：</p>"}');export{r as comp,o as data};
