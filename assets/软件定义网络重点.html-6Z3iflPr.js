import{_ as o,c as i,a as t,o as n}from"./app-UmXydJji.js";const e={};function s(r,l){return n(),i("div",null,[...l[0]||(l[0]=[t('<h2 id="一、概述" tabindex="-1"><a class="header-anchor" href="#一、概述"><span><strong>一、概述</strong></span></a></h2><ol><li><strong>传统网络的局限</strong>： <ul><li>配置复杂、设备依赖厂商、网络策略分散、难以灵活调整。</li></ul></li><li><strong>SDN能解决的问题及解决方式</strong>： <ul><li><strong>控制与转发分离</strong>：通过集中控制器管理转发设备。</li><li><strong>集中控制</strong>：统一策略下发，简化管理。</li><li><strong>开放可编程</strong>：通过开放接口实现网络功能自定义。</li></ul></li></ol><hr><h2 id="二、sdn基本原理" tabindex="-1"><a class="header-anchor" href="#二、sdn基本原理"><span><strong>二、SDN基本原理</strong></span></a></h2><ol start="0"><li><p>CDPI (Control Data Path Interface)</p></li><li><p>NBI (北向接口代理)</p></li><li><p><strong>三层架构</strong>：</p><ul><li>应用层：包含网络承载的多元业务与应用，通过调用控制层提供的接口实现网络应用的运行（如防火墙、负载均衡）。</li><li>控制层：通过API为上层提供可编程接口，另一方面通过CDPI对基础设施层的网络设备进行统一的配置管理与控制。</li><li>基础设施层：底层交换机等基础设施，通过CDPI接收来自控制器的指令完成网络数据包处理，同时借此接口反馈网络的配置和运行状态。</li></ul></li><li><p><strong>四大平面</strong>：</p><ul><li>数据平面：若干网元构成，一个网元包含一个或多个SDN Datapath （逻辑上的网络设备），负责数据或流的转发和处理。</li><li>控制平面：包括北向接口代理(NBI)，SDN控制逻辑和CDPI(数据平面接口驱动)，一方面通过NBI实现从北向南的应用需求发布和从南向北的底层网络反馈，另一方面依托CDPI将应用层需求以SDN转发规则的形式发送到数据通路，以及从数据平面获取网元的运行状态和事件反馈信息。</li><li>管理平面：负责网元的初始化配置，指定SDN Datapath控制器，定义SDN控制器以及应用的控制范畴等静态工作。</li><li>应用平面：包括SDN应用逻辑和北向接口驱动，通过北向接口与控制器交互，实现网络应用和业务逻辑。</li></ul></li><li><p><strong>两大接口</strong>：</p><ul><li>南向接口：控制器与交换机通信（如OpenFlow）。</li><li>北向接口：应用与控制器通信（如REST API）。</li></ul></li><li><p><strong>重要属性</strong>：</p><ul><li>集中控制、开放接口、可编程性、协议无关。</li></ul></li><li><p><strong>SDN的思想与好处</strong>：</p><ul><li>思想：解耦、集中智能、软件定义。</li><li>好处：灵活部署、自动化运维、促进创新。</li></ul></li></ol><hr><h2 id="三、sdn数据平面" tabindex="-1"><a class="header-anchor" href="#三、sdn数据平面"><span><strong>三、SDN数据平面</strong></span></a></h2><ol><li><p><strong>OVS交换机组成</strong>：</p><ul><li>内核模块（datapath）：快速转发。</li><li>用户空间守护进程（ovs-vswitchd）：管理流表。</li></ul></li><li><p><strong>OpenFlow交换机组成</strong></p><ul><li><p>流表：由若干流表项构成，每个动作关联一个流表项，指示交换机如何进行流的处理。</p></li><li><p>安全通道：负责控制器与交换机之间的交互，OpenFlow交换机通过安全通道与远程控制器连接。</p></li><li><p>OpenFlow协议: 定义了一种南向接口标准，为控制器与交换机之间的通信提供了一种开放的标准。</p></li></ul></li><li><p><strong>流表 vs 传统转发表</strong>：</p><ul><li>流表：指特定流的转发策略表项的集合，是OpenFlow交换机中对数据转发逻辑的抽象。包含多字段匹配（涵盖OSI模型的2-4层网络特征），且支持动作集。</li><li>传统转发表：通常只基于目的地址。</li></ul></li><li><p><strong>动作</strong>：匹配后执行的操作（如转发、丢弃、修改字段）。</p></li><li><p><strong>PISA实现协议无关</strong>：</p><ul><li>通过可编程解析器定义报文格式，匹配动作表可配置。</li></ul></li><li><p><strong>P4组件</strong>：</p><ul><li>解析器、匹配动作表、逆解析器、控制器API。</li></ul></li><li><p><strong>重要Mininet指令</strong>：</p><ul><li><code>mn</code>：创建拓扑</li><li><code>pingall</code>：测试连通性</li><li><code>net</code>：查看链路</li><li><code>dpctl</code>：操作流表</li></ul></li><li><p><strong>流表分析实例</strong>：</p><ul><li>例如：<code>priority=10,ip,nw_dst=10.0.0.1,actions=output:1</code></li><li>表示：匹配IP目的地址为10.0.0.1的包，从端口1转发。</li></ul></li><li><p><strong>传统 vs SDN数据平面</strong>：</p><ul><li>传统：固定功能、硬件依赖。</li><li>SDN：可编程、灵活匹配。</li></ul></li><li><p><strong>OpenFlow保留端口</strong>：</p></li></ol><ul><li>如 <code>CONTROLLER</code>、<code>LOCAL</code>、<code>ALL</code>、<code>IN_PORT</code> 等。</li></ul><hr><h2 id="四、南向接口协议" tabindex="-1"><a class="header-anchor" href="#四、南向接口协议"><span><strong>四、南向接口协议</strong></span></a></h2><ol><li><strong>概念与设计目标</strong>： <ul><li>标准化控制器与数据层通信，实现开放与可编程。核心需求是<strong>标准化、可扩展、支持集中控制</strong></li></ul></li><li><strong>常见协议</strong>： <ul><li><strong>OpenFlow</strong>：基于流表的转发控制。</li><li><strong>NETCONF</strong>：基于XML的网络配置管理。</li><li><strong>OVSDB</strong>：管理OVS交换机数据库。</li></ul></li><li><strong>协议间联系</strong>： <ul><li>OpenFlow 负责转发控制，NETCONF 负责配置管理，常结合使用。</li></ul></li><li><strong>OpenFlow消息类型</strong>： <ul><li>Controller-to-Switch：<code>Features</code>（ 控制器获取交换机特性）、<code>Flow-mod</code>（增 / 删 / 改交换机流表项）、<code>Packet-out</code>（控制器指导交换机转发数据包）</li><li>Asynchronous（异步）：<code>Packet-in</code>（新数据包在流表中没有匹配项或者匹配项指定端口为Controller的动作时才发送）、<code>Flow-removed</code>（流表项因超时 / 修改被控制器删除）、<code>Port-status</code>（上报端口状态变化（Up/Down））</li><li>Symmetric：Hello（协议版本协商），Echo（保活检测）</li></ul></li><li><strong>OpenFlow通信流程</strong>： <ul><li>交换机与控制器建立 TCP 连接，交换 Hello 消息协商协议版本。</li><li>控制器发送 Features-request 消息，获取交换机特性（流表数、端口）。</li><li>控制器用Get-config 获取交换机全局参数信息，下发 Set-config 消息配置交换机全局参数（并非配置转发规则）（可选）。</li><li>正常通信：交换机上报 Packet-in/Port-status 消息，控制器下发 Flow-mod/Packet-out 消息。</li><li>连接维护：通过 Echo 消息保活，异常时触发重连。</li></ul></li><li><strong>NETCONF</strong>： <ul><li><code>&lt;hello&gt;</code>、<code>&lt;rpc&gt;</code>、<code>&lt;rpc-reply&gt;</code>、<code>&lt;notification&gt;</code>。</li><li>三个配置数据库间的逻辑：你可以通过<code>&lt;get-config&gt;</code>在候选配置数据库上进行配置，配置确认后利用<code>&lt;commit&gt;</code>功能提交到Running数据库，最后还可以将Running数据库中的配置利用<code>&lt;copy-config&gt;</code>复制配置到startup数据库以便重启后加载。</li></ul></li></ol><hr><h2 id="五、sdn控制平面" tabindex="-1"><a class="header-anchor" href="#五、sdn控制平面"><span><strong>五、SDN控制平面</strong></span></a></h2><ol><li><strong>控制平面架构</strong>： <ul><li>集中式、分布式、混合式。</li></ul></li><li><strong>控制器基础功能</strong>： <ul><li>拓扑发现、路由计算、流表下发、状态监控。</li></ul></li><li><strong>链路发现流程</strong>： <ul><li>控制器通过LLDP包发现交换机及其连接关系。</li></ul></li><li><strong>Pox控制器</strong>： <ul><li>组件：<code>openflow.of_01</code>、<code>topology</code>、<code>host_tracker</code></li><li>启动：<code>python pox.py forwarding.l2_learning</code></li><li>优点：简单易上手；缺点：性能差，功能有限。</li></ul></li><li><strong>Pox二层自学习流程</strong>： <ul><li>收到包 → 学习源MAC → 查找目的MAC → 转发或广播。</li></ul></li><li><strong>Ryu控制器</strong>： <ul><li>组件：<code>app_manager</code>、<code>ofp_handler</code>、<code>event</code></li><li>运行框架：事件驱动，支持多应用。</li><li>优点：功能丰富，适合开发；缺点：学习曲线陡。</li></ul></li><li><strong>Ryu二层交换涉及OF消息</strong>： <ul><li><code>Packet-in</code>、<code>Packet-out</code>、<code>Flow-mod</code>。</li></ul></li><li><strong>Ryu常见curl指令</strong>： <ul><li><code>curl http://localhost:8080/v1.0/switches</code></li></ul></li></ol><hr><h2 id="六、sdn北向接口" tabindex="-1"><a class="header-anchor" href="#六、sdn北向接口"><span><strong>六、SDN北向接口</strong></span></a></h2><ol><li><strong>功能</strong>： <ul><li>为上层应用提供网络控制与状态查询接口。</li></ul></li><li><strong>常见协议</strong>： <ul><li><strong>REST API</strong>：基于HTTP，轻量易用。</li><li><strong>RESTCONF</strong>：基于HTTP/JSON/YANG，配置管理。</li><li><strong>NETCONF</strong>：也可作为北向接口。</li></ul></li><li><strong>URI标准化格式</strong>： <ul><li><code>http://&lt;controller&gt;:&lt;port&gt;/&lt;api_version&gt;/&lt;resource&gt;</code></li></ul></li><li><strong>Ryu REST API示例</strong>： <ul><li><code>GET /v1.0/switches</code> 获取交换机列表。</li></ul></li><li><strong>RESTCONF vs NETCONF</strong>： <ul><li>RESTCONF：轻量、基于HTTP，适合Web开发。</li><li>NETCONF：功能强、基于XML，适合配置管理。</li></ul></li><li><strong>RESTCONF查询参数</strong>： <ul><li><code>fields</code>、<code>depth</code>、<code>filter</code>、<code>content</code>。</li></ul></li></ol><hr><h2 id="七、应用篇" tabindex="-1"><a class="header-anchor" href="#七、应用篇"><span><strong>七、应用篇</strong></span></a></h2><ul><li><strong>答题思路</strong>： <ul><li>围绕 <strong>集中控制</strong>、<strong>开放接口</strong>、<strong>可编程性</strong> 展开。</li><li>举例：网络虚拟化、流量工程、安全策略集中管理、自动化运维。</li></ul></li></ul><hr><h2 id="八、实验重点知识" tabindex="-1"><a class="header-anchor" href="#八、实验重点知识"><span><strong>八、实验重点知识</strong></span></a></h2><ul><li><strong>实验五：流表分析与消息解析</strong><ul><li>使用 <code>ovs-ofctl dump-flows</code> 查看流表。</li><li>解析 <code>Packet-in</code> 消息：包含入端口、包数据、缓冲区ID等。</li><li>解析 <code>Flow-mod</code> 消息：包含匹配字段、动作、优先级等。</li></ul></li></ul>',24)])])}const c=o(e,[["render",s]]),d=JSON.parse('{"path":"/posts/classlearning/%E8%BD%AF%E4%BB%B6%E5%AE%9A%E4%B9%89%E7%BD%91%E7%BB%9C%E9%87%8D%E7%82%B9.html","title":"","lang":"zh-CN","frontmatter":{"date":"2025-01-05T00:00:00.000Z","category":["期末复习"],"tag":["软件定义网络"]},"headers":[{"level":2,"title":"一、概述","slug":"一、概述","link":"#一、概述","children":[]},{"level":2,"title":"二、SDN基本原理","slug":"二、sdn基本原理","link":"#二、sdn基本原理","children":[]},{"level":2,"title":"三、SDN数据平面","slug":"三、sdn数据平面","link":"#三、sdn数据平面","children":[]},{"level":2,"title":"四、南向接口协议","slug":"四、南向接口协议","link":"#四、南向接口协议","children":[]},{"level":2,"title":"五、SDN控制平面","slug":"五、sdn控制平面","link":"#五、sdn控制平面","children":[]},{"level":2,"title":"六、SDN北向接口","slug":"六、sdn北向接口","link":"#六、sdn北向接口","children":[]},{"level":2,"title":"七、应用篇","slug":"七、应用篇","link":"#七、应用篇","children":[]},{"level":2,"title":"八、实验重点知识","slug":"八、实验重点知识","link":"#八、实验重点知识","children":[]}],"git":{"updatedTime":1768621358000,"contributors":[{"name":"ksldnasx","username":"ksldnasx","email":"wh8261408@126.com","commits":2,"url":"https://github.com/ksldnasx"}],"changelog":[{"hash":"1f864259e832e26b375fa180e4e2da1fa0f7da94","time":1768621358000,"email":"wh8261408@126.com","author":"ksldnasx","message":"fix"},{"hash":"9aeef878b5bd59eec26915e703a1e821e9cb8ec2","time":1767625741000,"email":"wh8261408@126.com","author":"ksldnasx","message":"feat:sdn"}]},"filePathRelative":"posts/classlearning/软件定义网络重点.md","excerpt":"<h2><strong>一、概述</strong></h2>\\n<ol>\\n<li><strong>传统网络的局限</strong>：\\n<ul>\\n<li>配置复杂、设备依赖厂商、网络策略分散、难以灵活调整。</li>\\n</ul>\\n</li>\\n<li><strong>SDN能解决的问题及解决方式</strong>：\\n<ul>\\n<li><strong>控制与转发分离</strong>：通过集中控制器管理转发设备。</li>\\n<li><strong>集中控制</strong>：统一策略下发，简化管理。</li>\\n<li><strong>开放可编程</strong>：通过开放接口实现网络功能自定义。</li>\\n</ul>\\n</li>\\n</ol>"}');export{c as comp,d as data};
